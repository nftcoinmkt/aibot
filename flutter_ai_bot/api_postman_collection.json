{
  "info": {
    "name": "FastAPI Multi-Tenant AI API",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Auth",
      "item": [
        {
          "name": "Signup",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"email\": \"user@example.com\",\n    \"password\": \"string\",\n    \"full_name\": \"string\",\n    \"tenant_name\": \"string\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/api/v1/signup",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "signup"]
            }
          }
        },
        {
          "name": "Login",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
            "value": "application/x-www-form-urlencoded"
              }
            ],
            "body": {
              "mode": "urlencoded",
              "urlencoded": [
                {
                  "key": "username",
                  "value": "user@example.com"
                },
                {
                  "key": "password",
                  "value": "string"
                }
              ]
            },
            "url": {
              "raw": "{{base_url}}/api/v1/login/access-token",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "login", "access-token"]
            }
          }
        },
        {
          "name": "Forgot Password",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"email\": \"user@example.com\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/api/v1/forgot-password",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "forgot-password"]
            }
          }
        },
        {
          "name": "Reset Password",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"token\": \"string\",\n    \"new_password\": \"string\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/api/v1/reset-password",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "reset-password"]
            }
          }
        },
        {
          "name": "Sign Out",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{user_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/signout",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "signout"]
            }
          }
        }
      ]
    },
    {
      "name": "Users (Admin)",
      "item": [
        {
          "name": "List Users",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/users?skip=0&limit=10",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "users"],
              "query": [
                {
                  "key": "skip",
                  "value": "0"
                },
                {
                  "key": "limit",
                  "value": "10"
                }
              ]
            }
          }
        },
        {
          "name": "Create User (Admin)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"email\": \"newuser@example.com\",\n    \"password\": \"string\",\n    \"full_name\": \"string\",\n    \"tenant_name\": \"string\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/api/v1/users",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "users"]
            }
          }
        }
      ]
    },
    {
      "name": "Channels (Admin/SuperUser)",
      "item": [
        {
          "name": "Create Channel",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"name\": \"General Discussion\",\n    \"description\": \"General chat channel\",\n    \"is_private\": false\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/api/v1/channels",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "channels"]
            }
          }
        },
        {
          "name": "Get Channels",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{user_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/channels?skip=0&limit=10",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "channels"],
              "query": [
                {
                  "key": "skip",
                  "value": "0"
                },
                {
                  "key": "limit",
                  "value": "10"
                }
              ]
            }
          }
        },
        {
          "name": "Get Channel by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{user_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/channels/1",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "channels", "1"]
            }
          }
        },
        {
          "name": "Update Channel",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"name\": \"Updated Channel Name\",\n    \"description\": \"Updated description\",\n    \"is_private\": true\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/api/v1/channels/1",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "channels", "1"]
            }
          }
        },
        {
          "name": "Delete Channel",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/channels/1",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "channels", "1"]
            }
          }
        },
        {
          "name": "Add Member to Channel",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"user_id\": 2,\n    \"role\": \"member\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/api/v1/channels/1/members",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "channels", "1", "members"]
            }
          }
        },
        {
          "name": "Get Channel Members",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/channels/1/members",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "channels", "1", "members"]
            }
          }
        },
        {
          "name": "Update Member Role",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"role\": \"moderator\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/api/v1/channels/1/members/2",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "channels", "1", "members", "2"]
            }
          }
        },
        {
          "name": "Remove Member from Channel",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/channels/1/members/2",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "channels", "1", "members", "2"]
            }
          }
        },
        {
          "name": "Get Channel Statistics",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/channels/stats",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "channels", "stats"]
            }
          }
        }
      ]
    },
    {
      "name": "Chat",
      "item": [
        {
          "name": "Chat with AI",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{user_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"message\": \"Hello, AI!\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/api/v1/chat",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "chat"]
            }
          },
          "response": [
            {
              "name": "Success Response",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{user_token}}"
                  },
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"message\": \"Hello, AI!\"\n}"
                },
                "url": {
                  "raw": "{{base_url}}/api/v1/chat",
                  "host": ["{{base_url}}"],
                  "path": ["api", "v1", "chat"]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "content-type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n    \"response\": \"Hello! How can I help you today?\",\n    \"provider\": \"gemini\"\n}"
            }
          ]
        },
        {
          "name": "Get Chat History",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{user_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/chat/history?skip=0&limit=10",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "chat", "history"],
              "query": [
                {
                  "key": "skip",
                  "value": "0"
                },
                {
                  "key": "limit",
                  "value": "10"
                }
              ]
            }
          }
        },
        {
          "name": "Get Chat Statistics",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{user_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/chat/stats",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "chat", "stats"]
            }
          }
        },
        {
          "name": "Chat in Channel",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{user_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"message\": \"Hello AI in channel!\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/api/v1/channels/1/chat",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "channels", "1", "chat"]
            }
          }
        },
        {
          "name": "WebSocket Chat Stream",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "ws://{{base_url_ws}}/api/v1/chat/stream?token={{user_token}}",
              "protocol": "ws",
              "host": ["{{base_url_ws}}"],
              "path": ["api", "v1", "chat", "stream"],
              "query": [
                {
                  "key": "token",
                  "value": "{{user_token}}",
                  "description": "JWT token for authentication"
                }
              ]
            },
            "description": "WebSocket endpoint for streaming chat responses. Send JSON: {\"message\": \"your message\", \"channel_id\": 123 (optional)}"
          }
        },
        {
          "name": "WebSocket Channel Stream",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "ws://{{base_url_ws}}/api/v1/channels/1/stream?token={{user_token}}",
              "protocol": "ws",
              "host": ["{{base_url_ws}}"],
              "path": ["api", "v1", "channels", "1", "stream"],
              "query": [
                {
                  "key": "token",
                  "value": "{{user_token}}",
                  "description": "JWT token for authentication"
                }
              ]
            },
            "description": "WebSocket endpoint for streaming chat responses in a specific channel. Send JSON: {\"message\": \"your message\"}"
          }
        }
      ]
    },
    {
      "name": "General",
      "item": [
        {
          "name": "Hello World",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/hello",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "v1",
                "hello"
              ]
            }
          }
        },
        {
          "name": "Welcome User",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{user_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/welcome",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "v1",
                "welcome"
              ]
            }
          }
        },
        {
          "name": "Get User Me",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{user_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/user/me",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "v1",
                "user",
                "me"
              ]
            }
          }
        },
        {
          "name": "Get Superuser Me",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{superuser_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/superuser/me",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "v1",
                "superuser",
                "me"
              ]
            }
          }
        },
        {
          "name": "Get Admin Me",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/admin/me",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "v1",
                "admin",
                "me"
              ]
            }
          }
        }
      ]
    }
  ],
  "auth": {
    "type": "bearer",
    "bearer": [
      {
        "key": "token",
        "value": "{{user_token}}",
        "type": "string"
      }
    ]
  },
  "variable": [
    {
      "key": "base_url",
      "value": "http://localhost:8000",
      "type": "string"
    },
    {
      "key": "base_url_ws",
      "value": "localhost:8000",
      "type": "string",
      "description": "WebSocket base URL (without protocol)"
    },
    {
      "key": "user_token",
      "value": "your_jwt_token_here",
      "type": "string"
    },
    {
      "key": "admin_token",
      "value": "admin_jwt_token_here",
      "type": "string"
    },
    {
      "key": "superuser_token",
      "value": "superuser_jwt_token_here",
      "type": "string"
    }
  ]
}